# ===============================================
# Template Konfigurasi Clash - Dibuat oleh ZHStore
# ===============================================

# Pengaturan Port
# port: 7890             # Port untuk HTTP Proxy
# socks-port: 7891       # Port untuk SOCKS5 Proxy
tproxy-port: 7893        # Port untuk Transparent Proxy (Digunakan oleh Clash for Magisk)
bind-address: "*"        # Izinkan koneksi dari semua alamat (LAN)

# Pengaturan Umum
mode: rule
allow-lan: true
log-level: silent
external-controller: 0.0.0.0:9090
external-ui: yacd-gh-pages # Antarmuka web default
unified-delay: true
ipv6: false

# Pengaturan DNS
dns:
  enable: true
  ipv6: false
  listen: 0.0.0.0:1053
  enhanced-mode: redir-host
  use-host: true
  nameserver:
    - 1.1.1.1
    - 8.8.8.8
  fallback:
    - 1.0.0.1
    - https://cloudflare-dns.com/dns-query

# ===============================================
# BLOK PROXY (AKAN DIISI SECARA DINAMIS)
# ===============================================
proxies:
%%PROXIES_BLOCK%%

# ===============================================
# GRUP PROXY (AKAN DIISI SECARA DINAMIS)
# ===============================================
proxy-groups:
  - name: ðŸ’Ž ZHStore
    type: select
    proxies:
%%PROXY_NAMES%%
      - ðŸš€ BEST-PING
      - DIRECT

  - name: ðŸš€ BEST-PING
    type: url-test
    url: http://www.gstatic.com/generate_204 # URL tes ping standar
    interval: 300 # Tes setiap 5 menit
    tolerance: 50
    proxies:
%%PROXY_NAMES%%

# ===============================================
# ATURAN (RULES)
# ===============================================
rules:
  - MATCH,ðŸ’Ž ZHStore